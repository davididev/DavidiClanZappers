[gd_scene load_steps=12 format=3 uid="uid://i32dqd0l2wp1"]

[ext_resource type="Script" path="res://Scripts/Global/Enemy/EnemyBase.gd" id="1_qt61u"]
[ext_resource type="Script" path="res://Scripts/Global/Enemy/BrainTransitionResource.gd" id="2_d8ksp"]
[ext_resource type="AnimationNodeStateMachine" uid="uid://cklbyhfbqekjb" path="res://Graphics/Enemies/Zombie/ZombieWalk.tres" id="5_gf5py"]
[ext_resource type="Material" uid="uid://d0xqxu0rjsjhg" path="res://Graphics/Enemies/Zombie/M_Zombie.tres" id="5_sbkhd"]
[ext_resource type="PackedScene" uid="uid://bj86i4actyt73" path="res://Prefabs/Player/drop_shadow.tscn" id="5_v4edu"]
[ext_resource type="PackedScene" uid="uid://cnp447641kcs8" path="res://Graphics/Enemies/Zombie/ZombieModel.glb" id="6_6u4fe"]
[ext_resource type="Script" path="res://Scripts/Global/Enemy/BrainWaitForPlayer.gd" id="6_pfyuy"]
[ext_resource type="Script" path="res://Scripts/Global/Enemy/BrainFollowPlayer.gd" id="7_c8l3j"]

[sub_resource type="Resource" id="Resource_faglr"]
script = ExtResource("2_d8ksp")
cond = Array[int]([0, 2])
values = Array[float]([0.9, 9.0])
operator = 1

[sub_resource type="Resource" id="Resource_eu7n3"]
script = ExtResource("2_d8ksp")
cond = Array[int]([3])
values = Array[float]([1.0])
operator = 0

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_h5276"]
radius = 0.9
height = 1.8

[node name="ZombieWalk" type="RigidBody3D" groups=["SerializedNode"]]
top_level = true
collision_layer = 16
collision_mask = 7
axis_lock_angular_x = true
axis_lock_angular_z = true
contact_monitor = true
max_contacts_reported = 2
linear_damp_mode = 1
linear_damp = 200.0
angular_damp = 200.0
script = ExtResource("1_qt61u")
renderers = Array[NodePath]([NodePath("CollisionShape3D/ZombieModel/godot_rig/GeneralSkeleton/DONOTCOPY_ZombieSource")])
look_at_transform = NodePath("CollisionShape3D/LookAt")
TouchDamage = 8
MaxHealth = 55.0
tree = NodePath("CollisionShape3D/ZombieModel/AnimationTree")
brains = Array[NodePath]([NodePath("CollisionShape3D/Brain_WaitForPlayer"), NodePath("CollisionShape3D/Brain_FollowPlayer")])
brainTransitions = Array[ExtResource("2_d8ksp")]([SubResource("Resource_faglr"), SubResource("Resource_eu7n3")])
IdleName = "Idle"
MoveName = "Walk"
MoveSpeed = 35.0
MaxVelocity = 6.0
maxCoinsOnDeath = 5
chanceOfHeart = 30

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_h5276")

[node name="DropShadow" parent="CollisionShape3D" instance=ExtResource("5_v4edu")]

[node name="ZombieModel" parent="CollisionShape3D" instance=ExtResource("6_6u4fe")]

[node name="GeneralSkeleton" parent="CollisionShape3D/ZombieModel/godot_rig" index="0"]
bones/1/position = Vector3(8.88184e-16, 0.0501, 0.3167)
bones/2/rotation = Quaternion(-0.0920321, -1.18703e-07, -1.09711e-08, 0.995756)
bones/2/scale = Vector3(1, 1, 1)
bones/3/rotation = Quaternion(-0.0499216, 2.50144e-14, -5.28255e-16, 0.998753)
bones/3/scale = Vector3(1, 1, 1)
bones/4/rotation = Quaternion(-0.0142061, 1.19197e-07, -1.6935e-09, 0.999899)
bones/4/scale = Vector3(1, 1, 1)
bones/11/rotation = Quaternion(0.473978, 0.474303, -0.595639, 0.442261)
bones/11/scale = Vector3(0.988779, 1.02285, 0.988779)
bones/12/rotation = Quaternion(0.00428217, 0.00145066, -3.80478e-05, 0.99999)
bones/12/scale = Vector3(0.993542, 1.013, 0.993596)
bones/13/rotation = Quaternion(0.153774, 0.115517, -0.235195, 0.952729)
bones/13/scale = Vector3(1.00909, 0.981107, 1.01147)
bones/21/rotation = Quaternion(0.453615, -0.498803, 0.571575, 0.467687)
bones/21/scale = Vector3(1.00013, 0.999885, 1.00013)
bones/22/rotation = Quaternion(0.0589244, -0.00338276, 0.000276524, 0.998257)
bones/22/scale = Vector3(1.00014, 0.999483, 1.00046)
bones/23/rotation = Quaternion(0.148962, -0.112252, 0.240152, 0.952647)
bones/23/scale = Vector3(0.999893, 1.00144, 0.999377)
bones/27/rotation = Quaternion(-0.247413, 0.945795, 0.203441, -0.0535838)
bones/32/rotation = Quaternion(0.997351, -3.00175e-08, 2.3356e-07, -0.0727334)
bones/32/scale = Vector3(0.984297, 1.03216, 0.984298)
bones/33/rotation = Quaternion(0.00364505, -1.23702e-07, -3.88131e-08, 0.999993)
bones/33/scale = Vector3(0.997332, 1.00536, 0.997328)
bones/34/rotation = Quaternion(-0.659243, -0.00038976, 0.000342038, 0.751929)
bones/34/scale = Vector3(1.01874, 1.01772, 0.964637)
bones/35/rotation = Quaternion(-0.000137185, 0.964307, -0.264787, -0.000499277)
bones/36/rotation = Quaternion(0.829777, -2.20795e-08, 2.1201e-07, 0.558095)
bones/36/scale = Vector3(1.011, 0.978353, 1.011)
bones/37/rotation = Quaternion(0.712638, -1.2556e-07, 8.88118e-08, 0.701532)
bones/37/scale = Vector3(1.00243, 0.963128, 1.03578)
bones/38/rotation = Quaternion(-0.858503, -0.000261383, 0.000447295, 0.512808)
bones/38/scale = Vector3(0.986714, 0.995993, 1.01812)
bones/39/rotation = Quaternion(-0.000137102, 0.964307, -0.264787, -0.0004993)
bones/39/scale = Vector3(1, 1, 1)
bones/40/position = Vector3(0.293089, -0.117939, 0.831816)
bones/40/rotation = Quaternion(0.110917, 0.778463, -0.0519196, 0.615627)
bones/40/scale = Vector3(1, 42.4388, 1)
bones/41/position = Vector3(-0.347039, -0.123944, 0.82954)
bones/41/rotation = Quaternion(0.103852, -0.773659, 0.0465074, 0.6233)
bones/41/scale = Vector3(1, 44.4378, 1)
bones/42/position = Vector3(0.149, 0.038733, 0.18663)
bones/42/rotation = Quaternion(0.995379, 2.99911e-08, -2.99911e-08, -0.0960229)
bones/42/scale = Vector3(1, 25.7544, 1)
bones/43/position = Vector3(-0.169, -0.0800329, 0.223682)
bones/43/rotation = Quaternion(0.942059, 5.18103e-08, -5.18103e-08, -0.335448)
bones/43/scale = Vector3(1, 14.681, 1)
bones/50/position = Vector3(0, -0.223617, -7.69622e-09)
bones/54/rotation = Quaternion(0.997351, -8.18729e-09, 2.37965e-07, -0.0727333)
bones/54/scale = Vector3(1.03216, 1.03216, 1.03216)
bones/55/rotation = Quaternion(0.00364104, -1.19209e-07, 4.34031e-10, 0.999993)
bones/55/scale = Vector3(1.00552, 1.00552, 1.00552)
bones/56/rotation = Quaternion(-0.659406, -0.000389256, 0.000341422, 0.751787)
bones/56/scale = Vector3(0.963518, 0.963519, 0.963518)
bones/57/rotation = Quaternion(-0.000137102, 0.964307, -0.264787, -0.0004993)
bones/61/scale = Vector3(0.963519, 0.963519, 0.963519)
bones/63/scale = Vector3(0.963519, 0.963518, 0.963518)
bones/65/scale = Vector3(0.968842, 0.968841, 0.968841)
bones/66/scale = Vector3(0.968842, 0.968839, 0.968839)
bones/68/rotation = Quaternion(0.829777, 1.42532e-08, 2.19099e-07, 0.558095)
bones/68/scale = Vector3(0.978337, 0.978341, 0.978332)
bones/69/rotation = Quaternion(0.712635, -8.36295e-08, 8.49527e-08, 0.701535)
bones/69/scale = Vector3(0.995166, 0.995166, 0.995166)
bones/70/rotation = Quaternion(-0.858466, -0.000265575, 0.000444512, 0.51287)
bones/70/scale = Vector3(1.02711, 1.02711, 1.02711)
bones/71/rotation = Quaternion(-0.000137102, 0.964307, -0.264787, -0.0004993)
bones/75/scale = Vector3(1.02711, 1.02711, 1.02711)
bones/77/scale = Vector3(1.02711, 1.02711, 1.02711)
bones/79/scale = Vector3(1.02214, 1.02214, 1.02214)
bones/80/scale = Vector3(1.02214, 1.02214, 1.02214)
bones/88/rotation = Quaternion(-0.000137096, 0.964307, -0.264787, -0.000499319)
bones/90/rotation = Quaternion(-0.551988, 1.68287e-07, -1.55703e-07, 0.833852)
bones/91/rotation = Quaternion(-0.00167846, -2.64319e-10, 8.94411e-09, 0.999999)
bones/91/scale = Vector3(1.03216, 1.03216, 1.03216)
bones/92/rotation = Quaternion(0.00364104, -1.19209e-07, 4.34042e-10, 0.999993)
bones/92/scale = Vector3(1.00552, 1.00552, 1.00552)
bones/93/rotation = Quaternion(0.997352, -1.49176e-08, 2.34557e-07, -0.0727332)
bones/101/rotation = Quaternion(-0.000137096, 0.964307, -0.264787, -0.000499319)
bones/103/rotation = Quaternion(-0.781407, 1.16575e-07, -2.24244e-07, 0.624021)
bones/104/rotation = Quaternion(-0.347021, -1.79203e-08, -2.80747e-08, 0.937857)
bones/104/scale = Vector3(0.978337, 0.978336, 0.978336)
bones/105/rotation = Quaternion(0.712635, -8.36295e-08, 8.49527e-08, 0.701535)
bones/105/scale = Vector3(0.995166, 0.995166, 0.995166)
bones/106/rotation = Quaternion(0.829777, -2.29977e-08, 2.12752e-07, 0.558095)
bones/113/position = Vector3(0, -8.17463e-08, -2.58607e-09)
bones/135/rotation = Quaternion(0.474879, 0.474981, -0.594927, 0.441525)
bones/135/scale = Vector3(1.02285, 1.02285, 1.02285)
bones/136/rotation = Quaternion(0.00428088, -7.04561e-05, 2.62282e-07, 0.999991)
bones/136/scale = Vector3(1.01305, 1.01305, 1.01305)
bones/137/rotation = Quaternion(0.155644, 0.114766, -0.235086, 0.952543)
bones/137/scale = Vector3(0.965123, 0.965123, 0.965123)
bones/164/rotation = Quaternion(0.999999, 2.87553e-09, -0.0011849, -7.47366e-09)
bones/168/scale = Vector3(0.965123, 0.965123, 0.965124)
bones/170/rotation = Quaternion(1.89265e-07, 0.0586693, -2.66793e-07, 0.998277)
bones/170/scale = Vector3(0.965123, 0.965123, 0.965123)
bones/172/scale = Vector3(0.977691, 0.977691, 0.977691)
bones/173/rotation = Quaternion(3.248e-08, -0.00079791, 3.542e-07, 1)
bones/173/scale = Vector3(0.97769, 0.977689, 0.977691)
bones/181/rotation = Quaternion(0.647916, 0.175345, -0.73613, 0.0870155)
bones/182/rotation = Quaternion(-0.00164923, 1.78706e-07, -2.03338e-07, 0.999999)
bones/182/scale = Vector3(1.02285, 1.02285, 1.02285)
bones/183/rotation = Quaternion(0.00428089, -7.04574e-05, 2.75355e-07, 0.999991)
bones/183/scale = Vector3(1.01305, 1.01305, 1.01305)
bones/184/rotation = Quaternion(0.473978, 0.474303, -0.595639, 0.442261)
bones/187/rotation = Quaternion(0.455535, -0.500394, 0.570062, 0.465964)
bones/187/scale = Vector3(0.999885, 0.999885, 0.999885)
bones/188/rotation = Quaternion(0.0589225, -1.01709e-05, 6.37327e-07, 0.998263)
bones/188/scale = Vector3(0.999785, 0.999785, 0.999785)
bones/189/rotation = Quaternion(0.148933, -0.112251, 0.240176, 0.952646)
bones/189/scale = Vector3(1.00074, 1.00074, 1.00074)
bones/193/rotation = Quaternion(-0.247413, 0.945795, 0.203441, -0.0535838)
bones/197/rotation = Quaternion(-0.247413, 0.945795, 0.203441, -0.053584)
bones/210/rotation = Quaternion(-0.247413, 0.945795, 0.20344, -0.0535842)
bones/219/rotation = Quaternion(-0.247413, 0.945795, 0.203441, -0.0535838)
bones/220/scale = Vector3(1.00074, 1.00074, 1.00074)
bones/222/rotation = Quaternion(1.83344e-07, -0.0573807, -2.1418e-08, 0.998352)
bones/222/scale = Vector3(1.00074, 1.00074, 1.00074)
bones/224/scale = Vector3(1.0003, 1.0003, 1.0003)
bones/225/rotation = Quaternion(6.08848e-09, 0.00169373, -7.20746e-08, 0.999999)
bones/225/scale = Vector3(1.0003, 1.0003, 1.0003)
bones/233/rotation = Quaternion(0.645989, -0.192635, 0.730713, 0.107928)
bones/234/rotation = Quaternion(-0.0213423, -1.67415e-07, -5.30908e-07, 0.999772)
bones/234/scale = Vector3(0.999885, 0.999884, 0.999885)
bones/235/rotation = Quaternion(0.0589225, -1.01718e-05, 6.02292e-07, 0.998263)
bones/235/scale = Vector3(0.999785, 0.999785, 0.999785)
bones/236/rotation = Quaternion(0.453614, -0.498803, 0.571576, 0.467687)
bones/246/position = Vector3(-0.2, -0.304441, -0.0477794)
bones/246/rotation = Quaternion(0.674379, 0.212631, -0.67438, -0.212631)
bones/247/position = Vector3(0.00165704, -0.00306548, 0.00124706)
bones/249/rotation = Quaternion(0, -5.96047e-08, 1, -9.0972e-09)
bones/251/position = Vector3(0.2, -0.304441, -0.0477794)
bones/251/rotation = Quaternion(0.674379, -0.212631, 0.67438, -0.212631)
bones/252/position = Vector3(-0.000473633, -0.000875991, 0.00041727)
bones/256/position = Vector3(0, 0.0669646, -0.0669646)
bones/263/rotation = Quaternion(0.964307, 0.000137102, -0.0004993, -0.264787)
bones/264/position = Vector3(-7.63073e-05, -0.00994228, -0.0737209)
bones/266/rotation = Quaternion(-4.07453e-10, 1.42109e-14, 1, 2.91038e-11)
bones/267/position = Vector3(0.149, 0.1446, 0.177)
bones/270/position = Vector3(0, -0.0652416, 0.054075)
bones/270/rotation = Quaternion(-0.186426, -8.66342e-17, 0, 0.982469)
bones/277/rotation = Quaternion(0.964307, 0.000137102, -0.0004993, -0.264787)
bones/278/position = Vector3(-4.39205e-09, -8.01884e-10, -2.96639e-09)
bones/280/rotation = Quaternion(-4.07453e-10, 1.42109e-14, 1, 2.91038e-11)
bones/281/position = Vector3(-0.169, 0.1446, 0.177)

[node name="DONOTCOPY_ZombieSource" parent="CollisionShape3D/ZombieModel/godot_rig/GeneralSkeleton" index="0"]
surface_material_override/0 = ExtResource("5_sbkhd")

[node name="AnimationTree" type="AnimationTree" parent="CollisionShape3D/ZombieModel"]
tree_root = ExtResource("5_gf5py")
anim_player = NodePath("../AnimationPlayer")

[node name="LookAt" type="Node3D" parent="CollisionShape3D"]
top_level = true

[node name="Brain_WaitForPlayer" type="Node3D" parent="CollisionShape3D"]
script = ExtResource("6_pfyuy")
root = NodePath("../..")

[node name="Brain_FollowPlayer" type="Node3D" parent="CollisionShape3D"]
script = ExtResource("7_c8l3j")
root = NodePath("../..")
nextBrainID = 0
SpeedMultiplier = 1.0

[connection signal="OnDamage" from="." to="." method="_on_on_damage"]
[connection signal="body_entered" from="." to="." method="OnTouchDamage"]

[editable path="CollisionShape3D/ZombieModel"]
